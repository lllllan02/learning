@use "./base.scss";

// 自定义字号及排版设置
article {
  font-size: 1.2rem;
  line-height: 2rem;

  // 标题层级优化
  h1 { font-size: 1.8rem; margin-top: 1.8rem; }
  h2 { font-size: 1.5rem; margin-top: 1.6rem; }
  h3 { font-size: 1.35rem; margin-top: 1.4rem; }
  h4 { font-size: 1.25rem; margin-top: 1.2rem; }

  /* 增大段落及块级元素间距 */
  p, ul, ol, dl, blockquote {
    margin-top: 1rem;
    margin-bottom: 1rem;
  }

  /* 列表项保持较小的间距 */
  li {
    margin-top: 0.3rem;
    margin-bottom: 0.3rem;
  }
}

// 使图片居中显示
img {
  display: block;
  margin: 0 auto;
}

// 图片并排显示容器
.image-row {
  display: flex;
  flex-direction: row;
  justify-content: center;
  gap: 1rem;
  margin: 1.5rem 0;
  align-items: flex-start;

  @media all and (max-width: 600px) {
    flex-direction: column;
    align-items: center;
  }

  // 统一处理直接子元素（可能是 p, a 或 img）
  & > * {
    margin: 0 !important;
    flex: 1;
    display: flex;
    justify-content: center;
    max-width: calc(50% - 0.5rem);

    @media all and (max-width: 600px) {
      max-width: 100%;
      width: 100%;
    }
    
    // 如果子元素里还有 p（由于 markdown 渲染嵌套）
    p {
      margin: 0;
      width: 100%;
      display: flex;
      justify-content: center;
    }
  }

  img {
    display: block;
    margin: 0 !important;
    max-width: 100%;
    height: auto;
    border-radius: 8px;
  }
}

// 使 Mermaid 图表居中
pre:has(> code.mermaid) {
  display: flex;
  justify-content: center;
  background: transparent;
}

// 首页美化样式
body[data-slug="index"] {
  // 隐藏首页默认标题
  .article-title {
    display: none; 
  }

  // 隐藏首页日期等元数据
  .content-meta {
    display: none; 
  }

  // 调整 Callout 样式
  .callout {
    margin: 1rem 0;
    border-radius: 8px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    
    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    
    .callout-title {
      font-weight: 600;
    }
  }

  // 最近更新组件样式优化
  .recent-notes {
    margin-top: 2rem;
    
    & > h3 {
      margin-bottom: 1rem;
    }
  }
}

// 表格样式优化：自动铺满最大宽度
.table-container {
  & > table {
    width: 100%;      // 强制表格宽度为 100%
    margin-left: 0;   // 移除默认边距
    margin-right: 0;  // 移除默认边距
    display: table;   // 确保表格布局模式正确
    table-layout: auto; // 默认根据内容调整列宽，如需均匀分布可改为 fixed
  }
}
